<?xml version="1.0" encoding="utf-8"?>
<mx:Application 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	layout="vertical" minWidth="1024" minHeight="768"
	creationComplete="init();" 
	xmlns:ziazoo="uk.co.ziazoo.*" 
	xmlns:view="com.example.view.*" 
	xmlns:model="com.example.model.*"
	backgroundColor="0xffffff">
	
	<mx:Script>
		<![CDATA[
			import com.example.view.PersonDetails;
			import com.example.view.PersonList;
			import uk.co.ziazoo.INotificationBus;
			
			import com.example.view.PersonDetailsPresenter;
			import com.example.handlers.IPersonRecievedHandler;
			import com.example.workers.PersonRecieved;
			import com.example.handlers.IPersonRequestHandler;
			import com.example.workers.PersonRequest;
			import com.example.model.PersonModel;
			import com.example.handlers.IPeopleRecievedHandler;
			import com.example.workers.PeopleRecieved;
			import com.example.handlers.IPeopleRequestHandler;
			import com.example.workers.PeopleRequest;
			import com.example.view.PersonListPresenter;
			
			private function init():void
			{
				// map workers to handlers
				bus.map( PeopleRequest, IPeopleRequestHandler );
				bus.map( PeopleRecieved, IPeopleRecievedHandler );
				bus.map( PersonRequest, IPersonRequestHandler );
				bus.map( PersonRecieved, IPersonRecievedHandler );

				// setup view
				//bus.addHandler( new PersonListPresenter() );
				//bus.addHandler( new PersonDetailsPresenter( details ) );
				
				// request data
				bus.trigger( new PeopleRequest() );
				bus.trigger( new PersonRequest( "sam" ) );
			}
			
		]]>
	</mx:Script>
	
</mx:Application>
